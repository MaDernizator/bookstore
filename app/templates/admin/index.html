{% extends "base.html" %}

{% block content %}
<div id="admin-root">
    <h1>Админ-панель</h1>

    <p id="admin-check-msg">Проверка прав администратора...</p>

    <div id="admin-content" style="display: none;">
        <nav class="admin-nav">
            <button data-section="books">Книги</button>
            <button data-section="orders">Заказы</button>
            <button data-section="users">Пользователи</button>
            <button data-section="genres">Жанры</button>
            <button data-section="authors">Авторы</button>
            <button data-section="publishers">Издательства</button>
        </nav>

        <section id="admin-section-books" class="admin-section">
            <h2>Книги</h2>
            <div id="admin-books-list">Загрузка...</div>

            <h3>Создать книгу</h3>
            <form id="admin-book-create-form" class="form">
                <label>
                    Название
                    <input type="text" name="title" required>
                </label>
                <label>
                    Цена
                    <input type="number" name="price" step="0.01" required>
                </label>
                <label>
                    Год издания
                    <input type="number" name="publication_year">
                </label>
                <label>
                    Кол-во страниц
                    <input type="number" name="pages">
                </label>
                <!-- НОВОЕ ПОЛЕ -->
                <label>
                    Обложка
                    <input type="file" name="cover" id="admin-book-create-cover" accept="image/*">
                </label>

                <button type="submit">Создать</button>
            </form>
            <div id="admin-book-create-msg" class="message"></div>
        </section>

        <section id="admin-section-orders" class="admin-section" style="display:none;">
            <h2>Заказы</h2>
            <div id="admin-orders-list">Загрузка...</div>
        </section>

        <section id="admin-section-users" class="admin-section" style="display:none;">
            <h2>Пользователи</h2>
            <div id="admin-users-list">Загрузка...</div>
        </section>

        <section id="admin-section-genres" class="admin-section" style="display:none;">
            <h2>Жанры</h2>
            <div id="admin-genres-list">Загрузка...</div>

            <h3>Создать жанр</h3>
            <form id="admin-genre-create-form" class="form">
                <label>
                    Название
                    <input type="text" name="name" required>
                </label>

                <button type="submit">Создать</button>
            </form>
            <div id="admin-genre-create-msg" class="message"></div>
        </section>

        <section id="admin-section-authors" class="admin-section" style="display:none;">
            <h2>Авторы</h2>
            <div id="admin-authors-list">Загрузка...</div>

            <h3>Создать автора</h3>
            <form id="admin-author-create-form" class="form">
                <label>
                    Полное имя
                    <input type="text" name="full_name" required>
                </label>

                <button type="submit">Создать</button>
            </form>
            <div id="admin-author-create-msg" class="message"></div>
        </section>

        <section id="admin-section-publishers" class="admin-section" style="display:none;">
            <h2>Издательства</h2>
            <div id="admin-publishers-list">Загрузка...</div>

            <h3>Создать издательство</h3>
            <form id="admin-publisher-create-form" class="form">
                <label>
                    Название
                    <input type="text" name="name" required>
                </label>

                <button type="submit">Создать</button>
            </form>
            <div id="admin-publisher-create-msg" class="message"></div>
        </section>
    </div>
</div>
{% endblock %}
